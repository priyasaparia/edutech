<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Teacher Dashboard | EduConnect</title>

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light">

<!-- NAVBAR -->
<nav class="navbar navbar-expand-lg navbar-dark bg-primary px-4">
  <span class="navbar-brand">EduConnect â€“ Teacher</span>

  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#teacherNav">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="teacherNav">
    <ul class="navbar-nav ms-auto">
      <li class="nav-item">
        <a class="nav-link" href="#assignments">Assignments</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#attendance">Attendance</a>
      </li>
      <li class="nav-item">
        <button class="btn btn-warning btn-sm ms-3" onclick="logout()">Logout</button>
      </li>
    </ul>
  </div>
</nav>


<!-- MAIN CONTENT -->
<div class="container mt-4">

  <button class="btn btn-success mb-3" data-bs-toggle="modal" data-bs-target="#addModal">
    + Create Assignment
  </button>

  <div id="assignmentList"></div>

</div>

<!-- CREATE ASSIGNMENT MODAL -->
<div class="modal fade" id="addModal">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title">Create Assignment</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">

        <input type="text" id="title" class="form-control mb-3"
          placeholder="Assignment Title">

        <label class="fw-bold">Questions</label>
        <div id="questionContainer">
          <input type="text" class="form-control mb-2 question"
            placeholder="Question 1">
          <input type="text" class="form-control mb-2 question"
            placeholder="Question 2">
        </div>

        <button class="btn btn-sm btn-outline-primary mb-3"
          onclick="addQuestion()">+ Add Question</button>

        <div class="row">
          <div class="col-md-4">
            <label>Given Date</label>
            <input type="date" id="givenDate" class="form-control">
          </div>
          <div class="col-md-4">
            <label>Submission Due Date</label>
            <input type="date" id="dueDate" class="form-control">
          </div>
          <div class="col-md-4">
            <label>Total Marks</label>
            <input type="number" id="totalMarks" class="form-control"
              placeholder="Marks">
          </div>
        </div>

      </div>

      <div class="modal-footer">
        <button class="btn btn-primary" onclick="addAssignment()">Create</button>
      </div>

    </div>
  </div>
</div>


<h4 id="attendance">Mark Attendance</h4>

<div class="card p-3 mb-4">

  <!-- Add Student Button -->
  <button class="btn btn-success mb-3" onclick="addStudentRow()">
    + Add Student
  </button>

  <!-- Attendance Table -->
  <table class="table table-bordered">
    <thead class="table-light">
      <tr>
        <th>Roll No</th>
        <th>Present</th>
        <th>Absent</th>
      </tr>
    </thead>
    <tbody id="attendanceTable"></tbody>
  </table>

  <!-- Submit -->
  <button class="btn btn-primary w-100" onclick="submitAttendance()">
    Submit Attendance
  </button>

</div>

<h4 class="mt-4">Announcements</h4>
<div class="card p-3 mb-3">
  <input id="annTitle" class="form-control mb-2" placeholder="Title">
  <textarea id="annBody" class="form-control mb-2" placeholder="Message"></textarea>
  <button class="btn btn-primary" onclick="postAnnouncement()">Post</button>
</div>
<h4 class="mt-4">Send Message</h4>
<div class="card p-3">
  <input id="msgTo" class="form-control mb-2" placeholder="Student Username">
  <textarea id="msgText" class="form-control mb-2" placeholder="Message"></textarea>
  <button class="btn btn-secondary" onclick="sendMessage()">Send</button>
</div>

<!-- SCRIPTS -->
<script src="js/storage.js"></script>
<script src="js/teacher.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
